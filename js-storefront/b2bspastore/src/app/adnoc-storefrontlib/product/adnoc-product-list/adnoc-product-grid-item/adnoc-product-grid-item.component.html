<a
  [routerLink]="{ cxRoute: 'product', params: product } | cxUrl"
  class="cx-product-image-container"
  tabindex="-1"
>
  <cx-media
    class="cx-product-image"
    [container]="product.images?.PRIMARY"
    format="product"
    [alt]="product.summary"
  ></cx-media>
</a>

<ng-template [cxOutlet]="ProductListOutlets.ITEM_DETAILS">
  <div class="cx-product-rating">
    <cx-star-rating
      *ngIf="product.averageRating"
      [rating]="product?.averageRating"
    ></cx-star-rating>
    <div *ngIf="!product.averageRating">
      {{ "productDetails.noReviews" | cxTranslate }}
    </div>
  </div>
</ng-template>

<div
  class="cx-product-code"
  [attr.aria-label]="'productDetails.id' | cxTranslate"
>
  {{ "productDetails.id" | cxTranslate }}
  {{product?.categories?.[0]?.code}} -
  {{ product?.code }}
</div>

<a
  [routerLink]="{ cxRoute: 'product', params: product } | cxUrl"
  class="cx-product-name"
  [innerHTML]="product.nameHtml"
></a>
<span class="stock-info {{ product.stock?.stockLevelStatus }}">{{
  product.stock?.stockLevelStatus
}}</span>
<ng-template [cxOutlet]="ProductListOutlets.ITEM_DETAILS">
  <div class="cx-product-price-container">
    <div
      class="cx-product-price"
      [attr.aria-label]="'productDetails.productPrice' | cxTranslate"
    >
      <span class="amount-info">{{ product.price?.formattedValue }}</span>
      <span class="unit-of-measure" *ngIf="product.unit?.name"
        >{{ "productDetails.unitOfMeasure" | cxTranslate }}
        {{ product.unit.name }}</span
      >
    </div>
    <ng-template [cxOutlet]="ProductListOutlets.ITEM_ACTIONS">
      <ng-container *ngIf="!hideAddToCartButton">
        <ng-container cxInnerComponentsHost></ng-container>
      </ng-container>
    </ng-template>
  </div>
</ng-template>
